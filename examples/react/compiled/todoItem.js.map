{"version":3,"sources":["../js/todoItem.jsx"],"names":["app","ESCAPE_KEY","ENTER_KEY","TodoItem","React","createClass","handleSubmit","event","val","state","editText","trim","props","onSave","setState","onDestroy","handleEdit","onEdit","todo","title","handleKeyDown","which","onCancel","handleChange","editing","target","value","getInitialState","shouldComponentUpdate","nextProps","nextState","componentDidUpdate","prevProps","node","findDOMNode","refs","editField","focus","setSelectionRange","length","render","classNames","completed","onToggle"],"mappings":"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","file":"todoItem.js","sourcesContent":["/*jshint quotmark: false */\n/*jshint white: false */\n/*jshint trailing: false */\n/*jshint newcap: false */\n/*global React */\nvar app = app || {};\n\n(function () {\n\t'use strict';\n\n\tvar ESCAPE_KEY = 27;\n\tvar ENTER_KEY = 13;\n\n\tapp.TodoItem = React.createClass({\n\t\thandleSubmit: function (event) {\n\t\t\tvar val = this.state.editText.trim();\n\t\t\tif (val) {\n\t\t\t\tthis.props.onSave(val);\n\t\t\t\tthis.setState({editText: val});\n\t\t\t} else {\n\t\t\t\tthis.props.onDestroy();\n\t\t\t}\n\t\t},\n\n\t\thandleEdit: function () {\n\t\t\tthis.props.onEdit();\n\t\t\tthis.setState({editText: this.props.todo.title});\n\t\t},\n\n\t\thandleKeyDown: function (event) {\n\t\t\tif (event.which === ESCAPE_KEY) {\n\t\t\t\tthis.setState({editText: this.props.todo.title});\n\t\t\t\tthis.props.onCancel(event);\n\t\t\t} else if (event.which === ENTER_KEY) {\n\t\t\t\tthis.handleSubmit(event);\n\t\t\t}\n\t\t},\n\n\t\thandleChange: function (event) {\n\t\t\tif (this.props.editing) {\n\t\t\t\tthis.setState({editText: event.target.value});\n\t\t\t}\n\t\t},\n\n\t\tgetInitialState: function () {\n\t\t\treturn {editText: this.props.todo.title};\n\t\t},\n\n\t\t/**\n\t\t * This is a completely optional performance enhancement that you can\n\t\t * implement on any React component. If you were to delete this method\n\t\t * the app would still work correctly (and still be very performant!), we\n\t\t * just use it as an example of how little code it takes to get an order\n\t\t * of magnitude performance improvement.\n\t\t */\n\t\tshouldComponentUpdate: function (nextProps, nextState) {\n\t\t\treturn (\n\t\t\t\tnextProps.todo !== this.props.todo ||\n\t\t\t\tnextProps.editing !== this.props.editing ||\n\t\t\t\tnextState.editText !== this.state.editText\n\t\t\t);\n\t\t},\n\n\t\t/**\n\t\t * Safely manipulate the DOM after updating the state when invoking\n\t\t * `this.props.onEdit()` in the `handleEdit` method above.\n\t\t * For more info refer to notes at https://facebook.github.io/react/docs/component-api.html#setstate\n\t\t * and https://facebook.github.io/react/docs/component-specs.html#updating-componentdidupdate\n\t\t */\n\t\tcomponentDidUpdate: function (prevProps) {\n\t\t\tif (!prevProps.editing && this.props.editing) {\n\t\t\t\tvar node = React.findDOMNode(this.refs.editField);\n\t\t\t\tnode.focus();\n\t\t\t\tnode.setSelectionRange(node.value.length, node.value.length);\n\t\t\t}\n\t\t},\n\n\t\trender: function () {\n\t\t\treturn (\n\t\t\t\t<li className={classNames({\n\t\t\t\t\tcompleted: this.props.todo.completed,\n\t\t\t\t\tediting: this.props.editing\n\t\t\t\t})}>\n\t\t\t\t\t<div className=\"view\">\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\tclassName=\"toggle\"\n\t\t\t\t\t\t\ttype=\"checkbox\"\n\t\t\t\t\t\t\tchecked={this.props.todo.completed}\n\t\t\t\t\t\t\tonChange={this.props.onToggle}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<label onDoubleClick={this.handleEdit}>\n\t\t\t\t\t\t\t{this.props.todo.title}\n\t\t\t\t\t\t</label>\n\t\t\t\t\t\t<button className=\"destroy\" onClick={this.props.onDestroy} />\n\t\t\t\t\t</div>\n\t\t\t\t\t<input\n\t\t\t\t\t\tref=\"editField\"\n\t\t\t\t\t\tclassName=\"edit\"\n\t\t\t\t\t\tvalue={this.state.editText}\n\t\t\t\t\t\tonBlur={this.handleSubmit}\n\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\tonKeyDown={this.handleKeyDown}\n\t\t\t\t\t/>\n\t\t\t\t</li>\n\t\t\t);\n\t\t}\n\t});\n})();\n"]}